# CLAUDE.md - Claude Code 项目规范

> 本文件由 Claude Code 自动加载，用于统一协作规范、避免重复踩坑。

------

## 🚨 关键规则（每次操作前必读）

### 路径规范（最重要！）

**所有文件操作必须遵守：**

| ✅ 正确做法 | ❌ 错误做法 |
|------------|------------|
| `src/main.py` | `E:/Projects/myproj/src/main.py` |
| `tests/test_app.py` | `C:\Users\xxx\tests\test_app.py` |
| 使用 `/` 正斜杠 | 使用 `\` 反斜杠 |

**操作步骤：**
1. 先确认当前在项目根目录
2. 始终使用相对路径（从项目根目录算起）
3. 始终使用正斜杠 `/`

**遇到 "File has been unexpectedly modified" 错误时：**
1. 重新读取该文件
2. 使用相对路径 + 正斜杠重试

---

## 🤖 Claude 工作方式

- **最小改动原则**：只改必要的部分，不做大范围重构（除非明确要求）
- **先说明再动手**：修改前简述要改哪些文件、为什么
- **命令先确认**：给出将运行的命令，等我确认后再执行
- **不确定就问**：不要猜测路径、环境、配置

---

## 📁 项目结构
```
项目根目录/
├── src/           # 源代码（TODO: 按实际填写）
├── tests/         # 测试文件
├── docs/          # 文档
├── CLAUDE.md      # 本文件
└── README.md      # 项目说明
```

**项目入口**：`TODO: 填写，如 src/main.py`

---

## 🐍 Python 规范

- 代码风格：PEP8，4 空格缩进
- 函数/类添加简短 docstring
- 变更后运行测试：`pytest`
- 新功能尽量补测试用例

---

## 🛠️ 常用命令
```bash
# 运行项目
TODO: 填写

# 运行测试
pytest

# 格式化代码
TODO: 如 black . 或 ruff format

# 静态检查
TODO: 如 ruff check 或 flake8
```

---

## 📋 已知问题与解决方案

### 问题 1：路径导致写入失败

**现象**：
- `Error: File has been unexpectedly modified`
- 文件写入反复失败

**原因**：使用了绝对路径或反斜杠

**解决**：见本文件顶部「路径规范」

---

### 问题 2：中文路径异常（可选）

**现象**：路径含中文时出现奇怪错误

**解决**：项目放在纯英文路径下，如 `D:/dev/myproj`

---

## 📝 变更记录

| 日期 | 内容 |
|------|------|
| 2025-01-15 | 初始化 CLAUDE.md，添加路径规范 |

---

## 💡 使用提示

1. **新项目**：复制本文件到项目根目录，填写 TODO 部分
2. **遇到新坑**：在「已知问题」部分追加记录
3. **Claude 出错**：可直接说"请按 CLAUDE.md 的路径规范重试"